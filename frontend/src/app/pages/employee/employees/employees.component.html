<div class="employee-container">
    <h2>Employees</h2>
    <button class="add-btn" type="button" [routerLink]="'/employee-add'">Add Employee</button>

    <div *ngIf="isLoading">Loading employees...</div>
    <div *ngIf="errorMessage">{{ errorMessage }}</div>
    <!-- Employee Table -->
    <table *ngIf="!isLoading && employees.length > 0" class="employee-table">
        <thead>
          <tr>
            <th>Photo</th>
            <th>Name</th>
            <th>Email</th>
            <th>Designation</th>
            <th>Department</th>
            <th>Salary</th>
            <th>Date of Joining</th>
            <th>Actions</th> <!-- New column -->
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let emp of employees">
            <td>
              <img
                [src]="emp.employee_photo"
                alt="Employee Photo"
                width="50"
                height="50"
              />
            </td>
            <td>{{ emp.first_name }} {{ emp.last_name }}</td>
            <td>{{ emp.email }}</td>
            <td>{{ emp.designation }}</td>
            <td>{{ emp.department }}</td>
            <td>{{ emp.salary }}</td>
            <td>{{ emp.date_of_joining | date: 'shortDate' }}</td>
            <td>{{ emp._id}}</td>

            <td>
              <button (click)="viewDetails(emp._id)" class="action-btn view-btn">View</button>
              <button (click)="deleteEmployee(emp._id)" class="action-btn delete-btn">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
      
  
    <!-- No Employees Found -->
    <div *ngIf="!isLoading && employees.length === 0">
      No employees found.
    </div>
  </div>
  